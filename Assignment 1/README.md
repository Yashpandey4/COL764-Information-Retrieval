# COL764 - Assignment 1: TF - IDF Retrieval

## Description
In this assignment, we will put the concepts of Boolean and Vector-space retrieval into practice by building an end-to-end retrieval systemfor English, performa toy-scale performance
evaluation of Vector-space retrieval models. Here we implement an efficient and effective retrieval
system that uses a slightly enriched textual data for its input.

## Topics Covered
- Analysing Dataset
- Pre-processing data.
- Pre-processing and tagging query data
- Implement TF-IDF based document retrieval, retrieving top k documents depending on the TF-IDF matching score between query and document.
- Implement TF-IDF based vector spaced document retrieval, output top k documents based on cosine similarity between query and document.

## Pre steps
- Download the following files: (These are needed to preprocess query data for named entity tagging)
    - `stanford-ner.jar` - http://www.java2s.com/Code/JarDownload/stanford/stanford-ner.jar.zip
    - `english.all.3class.distsim.crf.ser.gz` - https://github.com/wolfgangmm/exist-stanford-ner/raw/master/resources/classifiers/english.all.3class.distsim.crf.ser.gz
- pip install the following: `numpy, nltk, xml`

## Running the code
The submission contains 4 files - 

1. `invidx_cons.py` - Reads the input files, preprocesses the data and generates the posting list  
`python invidx_cons.py <Absolute path of training data dir> <name of posting files>`  
If the name of the posting files are `indexfile` then the program will generate two output files
    - `indexfile.dict` : The document -> token mapping of the training data
    - `indexfile.idx` : The inverted token -> document mapping of the training data

2. `vecsearch.py` - Reads the query files and retrieves the most relevant documents.  
Do `python vecsearch.py` with the following flags
```bash
vecsearch.py [-h] [--query QUERY] [--cutoff [CUTOFF]] [--output OUTPUT]
                    [--index [INDEX]] [--dict [DICT]]

Amazing IR System

optional arguments:
  -h, --help         show this help message and exit
  --query QUERY      a file containing keyword queries, with each line
                     corresponding to a query
  --cutoff [CUTOFF]  the number k (default 10) which specifies how many top-
                     scoring results have to be returned for each query
  --output OUTPUT    the output file named result file which is generated by
                     your program, which contains the document ids of all
                     documents that have top-k (k as specified) highest-scores
                     and their scores in each line (note that the output could
                     contain more than k documents). Results for each query
                     have to be separated by 2 newlines.
  --index [INDEX]    the index file generated by invidx cons program above
  --dict [DICT]      the dictionary file generated by the invidx cons program
                     above
```
This file expects the files `indexfile.dict` and `indexfile.idx` to be in the same directory as the python file
**NOTE:** Please comment the function `set_java_env` on lines 18 and 284/modify it according to your own requirements in case I haven't

3. `printdict.py` - Helper tool for printing the generated dictionary.  
`printdict.py <path to indexfile.dict>`
